<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>DFS_BFS - Itlaohuo</title><meta name=Description content="Itlaohuo的博客"><meta property="og:title" content="DFS_BFS"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/dfs_bfs/"><meta property="og:image" content="http://example.org/img/Kubenetes.assets/image-20200404094800622.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-16T11:12:30+00:00"><meta property="article:modified_time" content="2023-09-16T11:12:30+00:00"><meta property="og:site_name" content="Itlaohuo的博客"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://example.org/img/Kubenetes.assets/image-20200404094800622.png"><meta name=twitter:title content="DFS_BFS"><meta name=twitter:description content><meta name=application-name content="Itlaohuo的博客"><meta name=apple-mobile-web-app-title content="Itlaohuo的博客"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://example.org/dfs_bfs/><link rel=prev href=http://example.org/yifeng_20230911/><link rel=next href=http://example.org/char_sequence/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"DFS_BFS","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/example.org\/dfs_bfs\/"},"genre":"posts","keywords":"算法, 数据结构与算法, algorithm","wordcount":2107,"url":"http:\/\/example.org\/dfs_bfs\/","datePublished":"2023-09-16T11:12:30+00:00","dateModified":"2023-09-16T11:12:30+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"itlaohuo"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Itlaohuo>Itlaohuo</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Itlaohuo>Itlaohuo</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">DFS_BFS</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>itlaohuo</a></span>&nbsp;<span class=post-category>included in <a href=/categories/%E7%AC%94%E8%AE%B0/><i class="far fa-folder fa-fw" aria-hidden=true></i>笔记</a>&nbsp;<a href=/categories/%E7%AE%97%E6%B3%95/><i class="far fa-folder fa-fw" aria-hidden=true></i>算法</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-09-16>2023-09-16</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2107 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#绪论>绪论</a></li><li><a href=#dfs深度优先算法>DFS深度优先算法</a></li><li><a href=#bfs广度搜索算法>BFS广度搜索算法</a></li><li><a href=#迷宫问题的dfs和bfs的代码实现如下>迷宫问题的DFS和BFS的代码实现如下：</a></li></ul></li></ul></nav></div></div><div class=content id=content><h3 id=绪论>绪论</h3><ul><li>DFS 和 BFS 都是常用的图搜索算法，可以解决各种问题，比如：图遍历、路径搜索等</li><li>下面提到的int[] 可代表一个节点坐标 int[]{1,2}</li></ul><h3 id=dfs深度优先算法>DFS深度优先算法</h3><ul><li>工作原理：从起点开始，沿着一条分支（路径）尽可能的深入探索，直到终点或者无法继续为止，然后回溯探索其他分支（路径）。</li><li>使用场景：适合找所有的可能的路径问题（不一定是最短）；如：迷宫、拓扑排序；树的前序遍历</li><li>数据结构：递归或栈来实现</li><li>实现算法注意事项：</li></ul><blockquote><ul><li>非递归使用栈时，先不用弹出节点，如果某个分支（路径）方向可以继续探索，将探索到的节点压入栈；注意，如果时通过for或while循环进入某个分支方向探索时，只需要能访问到下一个节点，就需要<strong>break</strong>；同时标记已经压入了新节点<strong>addNew= true</strong>；，若任何路径不可探索（自身也会被标记为已经访问）即<strong>addNew= false</strong>，则需要将<strong>该节点从栈中弹出</strong>从而进行回溯。 <strong>递归基</strong>是当前节点是目标节点，然后弹栈（<strong>终点到起点</strong>）或者全部搜索完成</li><li>递归实现时：1 进入了某个分支（方向）递归调用DFS的时候，需要<strong>return</strong> 2 使用额外的空间保存访问路径 （如：List&lt;int[]> paths ; 或者List<point> paths等）</li></ul></blockquote><h3 id=bfs广度搜索算法>BFS广度搜索算法</h3><ul><li>工作原理：从起点开始，探索所有直接相邻的节点，然后向外扩展。直到找到目标节点或全部搜索完。</li><li>使用场景：适合最短路径问题；树的层序遍历</li><li>数据结构：队列</li><li>实现算法注意事项：</li></ul><blockquote><ul><li>使用队列</li><li>记录访问标识，使用辅助数据结构（如 Map&lt;int[],int[]> ; k是当前找到的邻居节点，v是前驱节点即当前节点）跟踪前驱节点；</li><li>搜索到目标时，从队列取出的节点就是终点，根据终点int[] 从Map&lt;int[],int[]>取出整个链路</li></ul></blockquote><h3 id=迷宫问题的dfs和bfs的代码实现如下>迷宫问题的DFS和BFS的代码实现如下：</h3><ul><li>二维数组值为1 表示是墙不可达；起点是 (0,0) ; 终点是起点对角线的终点;如 (n-1,m-1) ; 当然一下代码修改可指定起点和终点坐标位置</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span><span class=lnt>225
</span><span class=lnt>226
</span><span class=lnt>227
</span><span class=lnt>228
</span><span class=lnt>229
</span><span class=lnt>230
</span><span class=lnt>231
</span><span class=lnt>232
</span><span class=lnt>233
</span><span class=lnt>234
</span><span class=lnt>235
</span><span class=lnt>236
</span><span class=lnt>237
</span><span class=lnt>238
</span><span class=lnt>239
</span><span class=lnt>240
</span><span class=lnt>241
</span><span class=lnt>242
</span><span class=lnt>243
</span><span class=lnt>244
</span><span class=lnt>245
</span><span class=lnt>246
</span><span class=lnt>247
</span><span class=lnt>248
</span><span class=lnt>249
</span><span class=lnt>250
</span><span class=lnt>251
</span><span class=lnt>252
</span><span class=lnt>253
</span><span class=lnt>254
</span><span class=lnt>255
</span><span class=lnt>256
</span><span class=lnt>257
</span><span class=lnt>258
</span><span class=lnt>259
</span><span class=lnt>260
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>com.example.demo</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.ArrayList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.Collections</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.HashMap</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.LinkedList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.Map</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.Queue</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.Scanner</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.Stack</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> *nowcoder ：  HJ43 宫问题
</span></span></span><span class=line><span class=cl><span class=cm> * https://www.nowcoder.com/profile/100401824/codeBookDetail?submissionId=426841626
</span></span></span><span class=line><span class=cl><span class=cm> *  迷宫问题：
</span></span></span><span class=line><span class=cl><span class=cm> *  5 5
</span></span></span><span class=line><span class=cl><span class=cm> * 0 1 0 0 0
</span></span></span><span class=line><span class=cl><span class=cm> * 0 1 1 1 0
</span></span></span><span class=line><span class=cl><span class=cm> * 0 0 0 0 0
</span></span></span><span class=line><span class=cl><span class=cm> * 0 1 1 1 0
</span></span></span><span class=line><span class=cl><span class=cm> * 0 0 0 1 0
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * 5 5
</span></span></span><span class=line><span class=cl><span class=cm> * 0 1 0 0 0
</span></span></span><span class=line><span class=cl><span class=cm> * 0 1 0 1 0
</span></span></span><span class=line><span class=cl><span class=cm> * 0 0 0 0 1
</span></span></span><span class=line><span class=cl><span class=cm> * 0 1 1 1 0
</span></span></span><span class=line><span class=cl><span class=cm> * 0 0 0 0 0
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=c1>// 注意类名必须为 Main, 不要有任何 package xxx 信息
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Maze</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>up</span> <span class=o>=</span> <span class=o>{-</span><span class=mi>1</span><span class=o>,</span> <span class=mi>0</span><span class=o>};</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>down</span> <span class=o>=</span> <span class=o>{</span><span class=mi>1</span><span class=o>,</span> <span class=mi>0</span><span class=o>};</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>left</span> <span class=o>=</span> <span class=o>{</span><span class=mi>0</span><span class=o>,</span> <span class=o>-</span><span class=mi>1</span><span class=o>};</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>right</span> <span class=o>=</span> <span class=o>{</span><span class=mi>0</span><span class=o>,</span> <span class=mi>1</span><span class=o>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>int</span><span class=o>[][]</span> <span class=n>directions</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[][]{</span>
</span></span><span class=line><span class=cl>            <span class=n>right</span><span class=o>,</span> <span class=n>down</span><span class=o>,</span> <span class=n>left</span><span class=o>,</span> <span class=n>up</span><span class=o>,</span>
</span></span><span class=line><span class=cl>    <span class=o>};</span>
</span></span><span class=line><span class=cl>    <span class=c1>// {0,0},{1,0},{2,0},{2,1},{2,2},{2,3} ,{2,4},{3,4},{4,4}
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>static</span> <span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>pathList</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Scanner</span> <span class=n>in</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Scanner</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>in</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 注意 hasNext 和 hasNextLine 的区别
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>while</span> <span class=o>(</span><span class=n>in</span><span class=o>.</span><span class=na>hasNextLine</span><span class=o>())</span> <span class=o>{</span> <span class=c1>// 注意 while 处理多个 case
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>String</span> <span class=n>nm</span> <span class=o>=</span> <span class=n>in</span><span class=o>.</span><span class=na>nextLine</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>Integer</span><span class=o>.</span><span class=na>parseInt</span><span class=o>(</span><span class=n>nm</span><span class=o>.</span><span class=na>split</span><span class=o>(</span><span class=s>&#34;\\s+&#34;</span><span class=o>)[</span><span class=mi>0</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>Integer</span><span class=o>.</span><span class=na>parseInt</span><span class=o>(</span><span class=n>nm</span><span class=o>.</span><span class=na>split</span><span class=o>(</span><span class=s>&#34;\\s+&#34;</span><span class=o>)[</span><span class=mi>1</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span><span class=o>[][]</span> <span class=n>matix</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>][</span><span class=n>m</span><span class=o>];</span>
</span></span><span class=line><span class=cl>            <span class=c1>// boolean[][] visited = new boolean[n][m];
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>String</span> <span class=n>line</span> <span class=o>=</span> <span class=n>in</span><span class=o>.</span><span class=na>nextLine</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=n>String</span><span class=o>[]</span> <span class=n>lines</span> <span class=o>=</span> <span class=n>line</span><span class=o>.</span><span class=na>split</span><span class=o>(</span><span class=s>&#34;\\s+&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>lines</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>matix</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=n>Integer</span><span class=o>.</span><span class=na>parseInt</span><span class=o>(</span><span class=n>lines</span><span class=o>[</span><span class=n>j</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;DFS =====================================&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>pathList</span><span class=o>.</span><span class=na>clear</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>matix</span><span class=o>,</span> <span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>pathList</span><span class=o>.</span><span class=na>clear</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;BFS=====================================&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>paths</span> <span class=o>=</span> <span class=n>bfs</span><span class=o>(</span><span class=n>matix</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>paths</span> <span class=o>!=</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>paths</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>p</span> <span class=o>:</span> <span class=n>paths</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;(&#34;</span> <span class=o>+</span> <span class=n>p</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>+</span> <span class=s>&#34;,&#34;</span> <span class=o>+</span> <span class=n>p</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>+</span> <span class=s>&#34;) &#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;dfsNotRecursion =====================================&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>dfsNotRecursion</span> <span class=o>=</span> <span class=n>dfsNotRecursion</span><span class=o>(</span><span class=n>matix</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>dfsNotRecursion</span> <span class=o>!=</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>dfsNotRecursion</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>p</span> <span class=o>:</span> <span class=n>dfsNotRecursion</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;(&#34;</span> <span class=o>+</span> <span class=n>p</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>+</span> <span class=s>&#34;,&#34;</span> <span class=o>+</span> <span class=n>p</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>+</span> <span class=s>&#34;) &#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34; =====================================&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>matix</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//行数
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>rows</span> <span class=o>=</span> <span class=n>matix</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 列数
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>cols</span> <span class=o>=</span> <span class=n>matix</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 访问标识
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span><span class=o>[][]</span> <span class=n>visited</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>rows</span><span class=o>][</span><span class=n>cols</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=n>visited</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=mi>2</span> <span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>pathList</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=kt>int</span><span class=o>[]{</span><span class=n>x</span><span class=o>,</span> <span class=n>y</span><span class=o>});</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 找到解了
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>((</span><span class=n>x</span> <span class=o>==</span> <span class=n>rows</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>==</span> <span class=n>cols</span> <span class=o>-</span> <span class=mi>1</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>arr</span> <span class=o>:</span> <span class=n>pathList</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;(&#34;</span> <span class=o>+</span> <span class=n>arr</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>+</span> <span class=s>&#34;,&#34;</span> <span class=o>+</span> <span class=n>arr</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>+</span> <span class=s>&#34;) &#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 4个方向
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>directions</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span><span class=o>[]</span> <span class=n>d</span> <span class=o>=</span> <span class=n>directions</span><span class=o>[</span><span class=n>i</span><span class=o>];</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>checkEdge</span><span class=o>(</span><span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>0</span><span class=o>],</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>1</span><span class=o>],</span> <span class=n>rows</span><span class=o>,</span> <span class=n>cols</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                    <span class=o>&amp;&amp;</span>   <span class=n>matix</span><span class=o>[</span><span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                    <span class=o>&amp;&amp;</span>   <span class=n>visited</span><span class=o>[</span><span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>dfs</span><span class=o>(</span><span class=n>matix</span><span class=o>,</span> <span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>0</span><span class=o>],</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>1</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>                <span class=c1>// 重要 一定要有返回
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 回溯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>pathList</span><span class=o>.</span><span class=na>remove</span><span class=o>(</span><span class=n>pathList</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>-</span> <span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//深度搜索需要维护前驱节点和访问标识
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>public</span> <span class=kd>static</span> <span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=nf>bfs</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>matix</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//队列，同时弹出节点的往多个方向搜索
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>Queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>queue</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=c1>//跟踪记录前驱节点，用于回溯路径
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>Map</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[],</span> <span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>traceMap</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 记录访问的标识（后期优化可用于记录对应位置在路径上距离起点的距离）
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>rows</span> <span class=o>=</span> <span class=n>matix</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>clos</span> <span class=o>=</span> <span class=n>matix</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[][]</span> <span class=n>visited</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>rows</span><span class=o>][</span><span class=n>clos</span><span class=o>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 0,0 节点 入栈，标记为访问，并跟踪
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span><span class=o>[]</span> <span class=n>startNode</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[]{</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>,</span> <span class=mi>1</span><span class=o>};</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>startNode</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>traceMap</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>startNode</span><span class=o>,</span> <span class=kc>null</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>visited</span><span class=o>[</span><span class=n>startNode</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>startNode</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>=</span> <span class=n>startNode</span><span class=o>[</span><span class=mi>2</span><span class=o>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>queue</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span><span class=o>[]</span> <span class=n>current</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 已经到终点了
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=o>(</span><span class=n>current</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>==</span> <span class=n>rows</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>current</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>==</span> <span class=n>clos</span> <span class=o>-</span> <span class=mi>1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>paths</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>                <span class=k>while</span> <span class=o>(</span><span class=n>current</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>paths</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>current</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>current</span> <span class=o>=</span> <span class=n>traceMap</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>current</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>                <span class=c1>// 修正为从起点开始输出
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=n>Collections</span><span class=o>.</span><span class=na>reverse</span><span class=o>(</span><span class=n>paths</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=c1>// for(int[] v : visited){
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//     for(int p : v){
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//         System.out.print(p+ &#34; &#34;);
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>                <span class=c1>//     }
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//      System.out.println(&#34;&#34;);
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>// }
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>return</span> <span class=n>paths</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 将当前节点的所有邻居节点压栈（本题不含斜线方向）
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>d</span> <span class=o>:</span> <span class=n>directions</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span><span class=o>[]</span> <span class=n>nexts</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[]{</span><span class=n>current</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>0</span><span class=o>],</span> <span class=n>current</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>1</span><span class=o>],</span> <span class=n>current</span><span class=o>[</span><span class=mi>2</span><span class=o>]</span> <span class=o>+</span> <span class=mi>1</span><span class=o>};</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// 迷宫范围
</span></span></span><span class=line><span class=cl><span class=c1></span>                        <span class=n>checkEdge</span><span class=o>(</span><span class=n>nexts</span><span class=o>[</span><span class=mi>0</span><span class=o>],</span> <span class=n>nexts</span><span class=o>[</span><span class=mi>1</span><span class=o>],</span> <span class=n>rows</span><span class=o>,</span> <span class=n>clos</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                                <span class=c1>// 未被访问过，防止死循环
</span></span></span><span class=line><span class=cl><span class=c1></span>                                <span class=o>&amp;&amp;</span> <span class=n>visited</span><span class=o>[</span><span class=n>nexts</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>nexts</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                                <span class=c1>// 不是墙
</span></span></span><span class=line><span class=cl><span class=c1></span>                                <span class=o>&amp;&amp;</span> <span class=n>matix</span><span class=o>[</span><span class=n>nexts</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>nexts</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                <span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>queue</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>nexts</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>traceMap</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>nexts</span><span class=o>,</span> <span class=n>current</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>visited</span><span class=o>[</span><span class=n>nexts</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>nexts</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>=</span> <span class=n>nexts</span><span class=o>[</span><span class=mi>2</span><span class=o>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Collections</span><span class=o>.</span><span class=na>emptyList</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=nf>dfsNotRecursion</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>matix</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//行数
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>rows</span> <span class=o>=</span> <span class=n>matix</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 列数
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>cols</span> <span class=o>=</span> <span class=n>matix</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 访问标识
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span><span class=o>[][]</span> <span class=n>visited</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>rows</span><span class=o>][</span><span class=n>cols</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=n>visited</span><span class=o>[</span><span class=mi>0</span><span class=o>][</span><span class=mi>0</span><span class=o>]</span> <span class=o>=</span> <span class=mi>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>start</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[]{</span><span class=mi>0</span><span class=o>,</span> <span class=mi>0</span><span class=o>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>Stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>stack</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Stack</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=n>stack</span><span class=o>.</span><span class=na>push</span><span class=o>(</span><span class=n>start</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>stack</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 重要 ： 先不要弹出
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>int</span><span class=o>[]</span> <span class=n>current</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=na>peek</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>paths</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>current</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>==</span> <span class=n>rows</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>current</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>==</span> <span class=n>cols</span> <span class=o>-</span> <span class=mi>1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>// 直接一个个弹出打印
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kt>int</span><span class=o>[]</span> <span class=n>pop</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=k>while</span> <span class=o>(!</span><span class=n>stack</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>pop</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=na>pop</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                    <span class=n>paths</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>pop</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>                <span class=n>Collections</span><span class=o>.</span><span class=na>reverse</span><span class=o>(</span><span class=n>paths</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>paths</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 将当前节点的某个邻居节点压栈（本题不含斜线方向）
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// 重要：addNew 无法添加则回退 标识
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>boolean</span> <span class=n>addNew</span> <span class=o>=</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>d</span> <span class=o>:</span> <span class=n>directions</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span><span class=o>[]</span> <span class=n>nexts</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[]{</span><span class=n>current</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>0</span><span class=o>],</span> <span class=n>current</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=mi>1</span><span class=o>]};</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// 迷宫范围
</span></span></span><span class=line><span class=cl><span class=c1></span>                        <span class=n>checkEdge</span><span class=o>(</span><span class=n>nexts</span><span class=o>[</span><span class=mi>0</span><span class=o>],</span> <span class=n>nexts</span><span class=o>[</span><span class=mi>1</span><span class=o>],</span> <span class=n>rows</span><span class=o>,</span> <span class=n>cols</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                                <span class=c1>// 不是墙
</span></span></span><span class=line><span class=cl><span class=c1></span>                                <span class=o>&amp;&amp;</span> <span class=n>matix</span><span class=o>[</span><span class=n>nexts</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>nexts</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                                <span class=c1>// 未被访问过，防止死循环
</span></span></span><span class=line><span class=cl><span class=c1></span>                                <span class=o>&amp;&amp;</span> <span class=n>visited</span><span class=o>[</span><span class=n>nexts</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>nexts</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                <span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>stack</span><span class=o>.</span><span class=na>push</span><span class=o>(</span><span class=n>nexts</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>visited</span><span class=o>[</span><span class=n>nexts</span><span class=o>[</span><span class=mi>0</span><span class=o>]][</span><span class=n>nexts</span><span class=o>[</span><span class=mi>1</span><span class=o>]]</span> <span class=o>=</span> <span class=mi>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>addNew</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// 重要 ：一次只能一个方向
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 重要 ： 无法添加则回退
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=o>(!</span><span class=n>stack</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>()</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>addNew</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>stack</span><span class=o>.</span><span class=na>pop</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Collections</span><span class=o>.</span><span class=na>emptyList</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>checkEdge</span><span class=o>(</span><span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>int</span> <span class=n>rows</span><span class=o>,</span> <span class=kt>int</span> <span class=n>cols</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=n>rows</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>cols</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></div><script src=https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js integrity="sha256-Qsk2KRBCN5qVZX7B+8+2IvQl1Aqc723qV1tBCQaVoqo=" crossorigin=anonymous></script>
<script>(function(){let e="language-";Array.prototype.forEach.call(document.querySelectorAll("[class^="+e+"]"),function(e){if(console.info(e),e.innerText.indexOf("startuml")>0){console.log("is plantuml:"+e.innerText);let t=document.createElement("IMG");t.loading="lazy",t.src="http://www.plantuml.com/plantuml/svg/~1"+plantumlEncoder.encode(e.innerText),e.parentNode.parentNode.insertBefore(t,e.parentNode),e.style.display="none"}else console.log("not plantuml")})})()</script><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2023-09-16</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=http://example.org/dfs_bfs/ data-title=DFS_BFS data-hashtags=算法,数据结构与算法,algorithm><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=http://example.org/dfs_bfs/ data-hashtag=算法><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=http://example.org/dfs_bfs/ data-title=DFS_BFS><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=http://example.org/dfs_bfs/ data-title=DFS_BFS><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=http://example.org/dfs_bfs/ data-title=DFS_BFS><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/%E7%AE%97%E6%B3%95/>算法</a>,&nbsp;<a href=/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/>数据结构与算法</a>,&nbsp;<a href=/tags/algorithm/>algorithm</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/yifeng_20230911/ class=prev rel=prev title=Yifeng_20230911><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Yifeng_20230911</a>
<a href=/char_sequence/ class=next rel=next title=Char_sequence>Char_sequence<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.114.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2021 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Itlaohuo</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>